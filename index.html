<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <title>Ejercicio Fetch</title>

    
    <!-- <link rel="stylesheet" href="./styles.css"> LINKEAR -->


    <style>
        body{
    background-color: lightgray ;
    color: gray;
}

table, thead{
    background-color: lightpink ;
    color: black;
}
      </style>


  </head>
  <body>
    <h1 class="text-center">That's so fetch ðŸ’‹</h1>

    <div class="container text-center">
        <button type="submit" class="mt-2 btn btn-success img-fluid">Usuarios</button> 
       <!-- <img src="./assets/img/loadingpac.gif" alt="cargando">  GIF PARA CARGAR?-->
    </div>

    <div class="container mt-4 shadow-lg p3 mb-5 bg-body rounded"> <!--bg-body para no superponer color a la tabla-->
        <table class="table table-bordered table-striped"> 
            <thead>
                <tr class="text-center" >
                    <th>id</th>
                    <th>first_name</th>
                    <th>last_name</th>
                    <th>email</th>
                    <th>image</th>
                </tr>
            </thead>
            <tbody id="data">
            </tbody>
        </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <!-- <script src="./fetch.js"></script> LINKEAR MI JS-->
    <script>
       let url = "https://reqres.in/api/users?delay=3"; // https://jsonplaceholder.typicode.com/users/  CON LA 1A SI FUNCIONA   https://reqres.in/api/users?delay=3
        fetch(url)
            .then( response => response.json() )
            .then( data => mostrarData(data) )
            .catch( error => console.log(error) )

        const mostrarData = (data) => {
            console.log(data)
            let body = ""
            for (var i = 0; i < data.length; i++) {      
               body+=`<tr><td>${data[i].id}</td><td>${data[i].first_name}</td><td>${data[i].last_name}</td><td>${data[i].email}</td><td>${data[i].avatar}</td></tr>`
            }
            document.getElementById('data').innerHTML = body
            //console.log(body)
        } 
    </script>

  </body>
</html>